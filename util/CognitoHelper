//package com.ge.cognito.util;
//
//import com.amazonaws.services.cognitoidentity.AmazonCognitoIdentity;
//import com.amazonaws.services.cognitoidentity.AmazonCognitoIdentityClientBuilder;
//import com.amazonaws.services.cognitoidentity.model.*;
//import com.amazonaws.services.cognitoidp.AWSCognitoIdentityProvider;
//import com.amazonaws.services.cognitoidp.AWSCognitoIdentityProviderClientBuilder;
//import com.amazonaws.services.cognitoidp.model.*;
//
//import java.util.ArrayList;
//import java.util.List;
//
//public class CognitoHelper {
//    //
//    private String POOL_ID= "us-east-2_ZE4I7onAh";
//    private String CLIENTAPP_ID="50re4rl6fii7gc1sev1isdpsc3";
//    private String FED_POOL_ID="us-east-2:3017c639-7461-4c1d-abb0-6ba76bf5128a";
//
//    // the demo doesn't have us set this as public, which is interesting
//
//    // ==================
//    // Creating New Users
//    // ==================
//    public boolean SignUpUser (String username, String password, String email, String phonenumber) {
//        // Cognito Identity Provider client
//
//        AWSCognitoIdentityProvider cognitoIdentityProvider = AWSCognitoIdentityProviderClientBuilder.defaultClient();
//
//        SignUpRequest signUpRequest = new SignUpRequest();
//
//        //
//        signUpRequest.setClientId(CLIENTAPP_ID);
//        signUpRequest.setUsername(username);
//        signUpRequest.setPassword(password);
//        List<AttributeType> list = new ArrayList<>();
//
//        AttributeType attributeType = new AttributeType();
//        attributeType.setName("phone_number");
//        attributeType.setValue(phonenumber);
//        list.add(attributeType);
//
//        AttributeType attributeType1 = new AttributeType();
//        attributeType1.setName("email");
//        attributeType1.setValue(email);
//        list.add(attributeType1);
//
//        signUpRequest.setUserAttributes(list);
//
//        try {
//            SignUpResult result = cognitoIdentityProvider.signUp(signUpRequest);
//
//            // Print the Result
//            System.out.println(result);
//        } catch (Exception e) {
//            System.out.println(e);
//            return false;
//        }
//        return true;
//    }
//
//    // ================
//    // Verify User Case
//    // ================
//    public boolean VerifyAccessCode(String username, String code) {
//
//        // Cognito Identity Provider client
//        AWSCognitoIdentityProvider cognitoIdentityProvider = AWSCognitoIdentityProviderClientBuilder.defaultClient();
//
//        ConfirmSignUpRequest confirmSignUpRequest = new ConfirmSignUpRequest();
//        confirmSignUpRequest.setUsername(username);
//        confirmSignUpRequest.setConfirmationCode(code);
//        confirmSignUpRequest.setClientId(CLIENTAPP_ID);
//
//        try {
//            ConfirmSignUpResult confirmSignUpResult = cognitoIdentityProvider.confirmSignUp(confirmSignUpRequest);
//
//            // Print the Result
//            System.out.println(confirmSignUpResult.toString());
//        } catch (Exception ex) {
//            System.out.println(ex);
//            return false;
//        }
//        return true;
//    }
//
//    // ==================
//    // Using Credientials
//    // ==================
//    public Credentials GetCredentials(String idprovider, String id) {
//        AmazonCognitoIdentity provider = AmazonCognitoIdentityClientBuilder.defaultClient();
//
//        GetIdRequest idrequest = new GetIdRequest();
//        idrequest.setIdentityPoolId(FED_POOL_ID);
//        idrequest.addLoginsEntry(idprovider, id);
//        GetIdResult idResult = provider.getId(idrequest);
//
//        GetCredentialsForIdentityRequest request = new GetCredentialsForIdentityRequest();
//        request.setIdentityId(idResult.getIdentityId());
//        request.addLoginsEntry(idprovider, id);
//
//        GetCredentialsForIdentityResult result = provider.getCredentialsForIdentity(request);
//        return result.getCredentials();
//    }
//
//    public String ValidateUser(String username, String password) {
//        AuthenticationHelper helper = new AuthenticationHelper(POOL_ID, CLIENTAPP_ID, "");
//        return helper.PerformSRPAuthentication(username, password);
//    }
//
//    public String ResetPassword(String username) {
//        AWSCognitoIdentityProvider cognitoIdentityProvider = AWSCognitoIdentityProviderClientBuilder.defaultClient();
//        ForgotPasswordRequest forgotPasswordRequest = new ForgotPasswordRequest();
//        forgotPasswordRequest.setUsername(username);
//        forgotPasswordRequest.setClientId(CLIENTAPP_ID);
//        ForgotPasswordResult forgotPasswordResult = new ForgotPasswordResult();
//
//        try {
//            forgotPasswordResult = cognitoIdentityProvider.forgotPassword(forgotPasswordRequest);
//        } catch (Exception e) {
//            // handle exception here
//        }
//        return forgotPasswordResult.toString();
//
//    }
//
//    public String UpdatePassword(String username, String newpw, String code) {
//        AWSCognitoIdentityProvider cognitoIdentityProvider = AWSCognitoIdentityProviderClientBuilder.defaultClient();
//
//        ConfirmForgotPasswordRequest confirmPasswordRequest = new ConfirmForgotPasswordRequest();
//        confirmPasswordRequest.setUsername(username);
//        confirmPasswordRequest.setPassword(newpw);
//        confirmPasswordRequest.setConfirmationCode(code);
//        confirmPasswordRequest.setClientId(CLIENTAPP_ID);
//        ConfirmForgotPasswordResult confirmPasswordResult = new ConfirmForgotPasswordResult();
//
//        try {
//            confirmPasswordResult = cognitoIdentityProvider.confirmForgotPassword(confirmPasswordRequest);
//        } catch (Exception e) {
//            // handle exception here
//        }
//        return confirmPasswordResult.toString();
//    }
//
//
//}
